<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>Blob</title>
		<style>
			body { margin: 0; background-color: black }
			canvas { width: 100%; height: 100% }
		</style>


		<script id="vertexShader" type="x-shader/x-vertex">

		attribute vec2 n_normal;
		attribute float miter;
		attribute float line_dist;

		uniform float thickness;

		varying float line_d;
		varying float dist;

		void main() {
		    //push the point along its normal by half thickness
		    vec2 p =  position.xy  + n_normal * thickness;
		    gl_Position = vec4(p.xy, 0.0, 1.0);
		    dist = miter;
		    line_d = line_dist;
		    gl_PointSize = 5.0;
		}
		</script>

		<script id="fragmentShader" type="x-shader/x-fragment">
			#ifdef GL_ES
				precision highp float;
			#endif


			uniform float time;
			uniform vec2 mouse;

			varying float dist;
			varying float line_d;

			float PI  = 3.141592653589793;
			float TWO_PI = 6.283185307179586;

			///////////////////////////////////HELPERS///////////////////////////////////

	
			void main()	{
				

				float f = 0.5 + cos(line_d * TWO_PI + PI) * 0.5;
				gl_FragColor = vec4(1.0 - pow(dist, f));

			}

		</script>

	</head>
	<body>
		<script type="text/javascript" src="dat.gui.min.js"></script>
		<script src="three.min.js"></script>
		<script type="text/javascript" src="main.js"></script>
	</body>
</html>
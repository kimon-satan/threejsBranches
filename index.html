<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>Blob</title>
		<style>
			body { margin: 0; background-color: black }
			canvas { width: 100%; height: 100% }
		</style>


		<script id="vertexShader" type="x-shader/x-vertex">

			uniform vec2 resolution;
			attribute vec2 miter;
			attribute float miter_dims;
			attribute float line_prog;

			uniform float thickness;

			varying float o_line_prog;
			varying float o_m_prog;

			void main()
			{
				vec2 p = position.xy * vec2(resolution.y/resolution.x, 1.0);
			    p += miter  * (thickness/miter_dims);
			    gl_Position = vec4(p.xy, 0.0, 1.0);
			    o_m_prog = sign(miter_dims);
			    o_line_prog = line_prog;
			}

		</script>

		<script id="fragmentShader" type="x-shader/x-fragment">

			#ifdef GL_ES
				precision highp float;
			#endif

			varying float o_line_prog;
			varying float o_m_prog;

			float PI  = 3.141592653589793;
			float TWO_PI = 6.283185307179586;

			///////////////////////////////////HELPERS///////////////////////////////////

	
			void main()	{
	
				float f = 0.5 + cos(o_line_prog * TWO_PI + PI) * 0.5;
				float d = pow(o_m_prog, 2.5);
				vec3 col1 = vec3(1.0,0.45,0.40);
				vec3 col2 = vec3(0.2,0.75,0.25);
				float v = 0.5 + sin(o_line_prog * TWO_PI * 8.0) * 0.5;
				vec3 m = mix(col1, col2, v);
				gl_FragColor = vec4(m * (1.0 - pow(d,f)),1.0);
				
			}

		</script>

	</head>
	<body>
		<script type="text/javascript" src="perlin.js"></script>
		<script type="text/javascript" src="dat.gui.min.js"></script>
		<script src="three.min.js"></script>
		<script type="text/javascript" src="main.js"></script>
	</body>
</html>